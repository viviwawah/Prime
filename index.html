<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Flywheel</title>
    
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">
    <meta name="application-name" content="Flywheel">
    
    <link rel="icon" type="image/png" href="pic2.png">
    <link rel="apple-touch-icon" href="pic2.png">
    <link rel="manifest" href='data:application/manifest+json,{"name":"Flywheel","short_name":"Flywheel","start_url":"./index.html","display":"standalone","background_color":"#000000","theme_color":"#000000","icons":[{"src":"pic2.png","sizes":"192x192","type":"image/png"}]}'>

    <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // 注册 Service Worker 以激活 PWA 全屏模式
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('./sw.js').catch(err => console.log('SW registration failed:', err));
        });
    }
    // ... 后面的代码保持不动 ...
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { background-color: #000000; color: #e4e4e7; -webkit-tap-highlight-color: transparent; overscroll-behavior: none; user-select: none; }
        ::-webkit-scrollbar { width: 0px; background: transparent; }
        input { user-select: text; }
        .touch-action-none { touch-action: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- 1. 图标定义区 (直接内嵌以保证稳定性) ---
        const Icon = ({ path, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
                {path}
            </svg>
        );

        // 对应你代码中引用的所有 lucide-react 图标
        const Icons = {
            Terminal: (props) => <Icon {...props} path={<><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></>} />,
            Activity: (props) => <Icon {...props} path={<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>} />,
            Plus: (props) => <Icon {...props} path={<><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></>} />,
            History: (props) => <Icon {...props} path={<><path d="M3 3v5h5"/><path d="M3.05 13A9 9 0 1 0 6 5.3L3 8"/><path d="M12 7v5l4 2"/></>} />,
            Trash2: (props) => <Icon {...props} path={<><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></>} />,
            X: (props) => <Icon {...props} path={<><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></>} />,
            Settings: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></>} />,
            Zap: (props) => <Icon {...props} path={<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>} />,
            Calendar: (props) => <Icon {...props} path={<><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></>} />,
            ChevronLeft: (props) => <Icon {...props} path={<polyline points="15 18 9 12 15 6"/>} />,
            ChevronRight: (props) => <Icon {...props} path={<polyline points="9 18 15 12 9 6"/>} />,
            Battery: (props) => <Icon {...props} path={<><rect x="1" y="6" width="18" height="12" rx="2" ry="2"/><line x1="23" y1="13" x2="23" y2="11"/></>} />,
            User: (props) => <Icon {...props} path={<><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></>} />,
            Check: (props) => <Icon {...props} path={<polyline points="20 6 9 17 4 12"/>} />,
            Edit2: (props) => <Icon {...props} path={<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/>} />,
            Play: (props) => <Icon {...props} path={<polygon points="5 3 19 12 5 21 5 3" />} />,
            Flame: (props) => <Icon {...props} path={<path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.1.243-2.143.5-3.5a6 6 0 1 0 3 3z"/>} />,
            Utensils: (props) => <Icon {...props} path={<><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></>} />,
            RotateCcw: (props) => <Icon {...props} path={<><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></>} />,
            AlertCircle: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></>} />,
        };
        // 解构图标，模拟 import (包含 Calendar 重命名)
        const { Terminal, Activity, Plus, History, Trash2, X, Settings, Zap, Calendar: CalendarIcon, ChevronLeft, ChevronRight, Battery, User, Check, Edit2, Play, Flame, Utensils, RotateCcw, AlertCircle } = Icons;


        // --- 2. 常量定义 ---
        const CARB_TYPES = {
            low: { id: 'low', label: '低碳', color: 'bg-blue-900/40 text-blue-300 border-blue-700/50', dot: 'bg-blue-500' },
            med: { id: 'med', label: '中碳', color: 'bg-yellow-900/40 text-yellow-300 border-yellow-700/50', dot: 'bg-yellow-500' },
            high: { id: 'high', label: '高碳', color: 'bg-red-900/40 text-red-300 border-red-700/50', dot: 'bg-red-500' },
            rest: { id: 'rest', label: '休息', color: 'bg-zinc-800 text-zinc-400 border-zinc-700', dot: 'bg-zinc-500' },
            unknown: { id: 'unknown', label: '未计划', color: 'bg-zinc-900 text-zinc-600 border-zinc-800', dot: 'bg-zinc-700' }
        };

        // --- 3. 子组件：燃料注入滑块 ---
        const FuelInjector = ({ skill, globalFuel, onInject }) => {
            const [isDragging, setIsDragging] = useState(false);
            const [startX, setStartX] = useState(0);
            const [offset, setOffset] = useState(0);
            const sliderRef = useRef(null);
            const MAX_SLIDE = 120;
            
            const remainingCost = skill.cost - skill.paid;
            const isFull = remainingCost <= 0;
            
            const handleStart = (clientX) => {
                if (isFull || globalFuel <= 0) return;
                setIsDragging(true);
                setStartX(clientX);
            };

            const handleMove = (clientX) => {
                if (!isDragging) return;
                const diff = clientX - startX;
                const newOffset = Math.min(0, Math.max(-MAX_SLIDE, diff)); 
                setOffset(newOffset);
            };

            const handleEnd = () => {
                if (!isDragging) return;
                setIsDragging(false);
                if (Math.abs(offset) > MAX_SLIDE * 0.6) {
                    const injectAmount = Math.min(100, remainingCost, globalFuel);
                    onInject(skill.id, injectAmount);
                }
                setOffset(0);
            };

            return (
                <div className="relative w-full h-14 bg-zinc-900 border border-zinc-800 rounded overflow-hidden select-none group touch-pan-y mb-3">
                    <div className="absolute top-0 left-0 h-full bg-cyan-900/40 transition-all duration-500" style={{ width: `${Math.min(100, (skill.paid / skill.cost) * 100)}%` }} />
                    <div ref={sliderRef}
                        className="absolute inset-0 flex items-center justify-between px-4 transition-transform duration-100 ease-linear cursor-grab active:cursor-grabbing"
                        style={{ transform: `translateX(${offset}px)` }}
                        onMouseDown={e => handleStart(e.clientX)}
                        onMouseMove={e => handleMove(e.clientX)}
                        onMouseUp={handleEnd}
                        onMouseLeave={handleEnd}
                        onTouchStart={e => handleStart(e.touches[0].clientX)}
                        onTouchMove={e => handleMove(e.touches[0].clientX)}
                        onTouchEnd={handleEnd}
                    >
                        <div className="flex flex-col pointer-events-none">
                            <span className="font-bold text-zinc-200 text-sm flex items-center gap-2">
                                {skill.name}
                                {isFull && <Check size={14} className="text-green-500" />}
                            </span>
                            <div className="text-[10px] text-cyan-500 font-mono">
                                {skill.paid} / {skill.cost} FUEL
                            </div>
                        </div>
                        <div className="flex items-center gap-2 text-zinc-600 text-[10px] font-mono pointer-events-none">
                            {!isFull && globalFuel > 0 && (
                                <React.Fragment>
                                    <span className="group-hover:-translate-x-1 transition-transform">&lt;&lt; INJECT</span>
                                    <div className="w-1 h-6 bg-zinc-700 rounded-full opacity-50"></div>
                                </React.Fragment>
                            )}
                            {isFull && <span className="text-green-500 font-bold">COMPLETED</span>}
                            {!isFull && globalFuel <= 0 && <span className="text-red-900">NO FUEL</span>}
                        </div>
                    </div>
                    <div className="absolute top-0 right-0 bottom-0 w-full bg-cyan-600 flex items-center justify-end px-4 -z-10">
                        <Zap className="text-white animate-pulse" size={18} />
                    </div>
                </div>
            );
        };

        // --- 4. 辅助函数：安全读取 localStorage ---
        const loadState = (key, defaultValue) => {
            if (typeof window === 'undefined') return defaultValue;
            try {
                const saved = localStorage.getItem(key);
                return saved ? JSON.parse(saved) : defaultValue;
            } catch (e) {
                console.warn(`Error loading ${key}`, e);
                return defaultValue;
            }
        };

        // --- 5. 主应用 (FlywheelUltimate) ---
        const FlywheelUltimate = () => {
            // --- 视图状态 ---
            const [currentView, setCurrentView] = useState('dashboard');
            const [touchStart, setTouchStart] = useState(null);
            const [touchEnd, setTouchEnd] = useState(null);

            // --- Flywheel 核心数据 ---
            const [xp, setXp] = useState(() => parseFloat(localStorage.getItem('fw_xp') || '6'));
            const [logs, setLogs] = useState(() => loadState('fw_logs', []));
            const [lastActive, setLastActive] = useState(() => parseInt(localStorage.getItem('fw_last_active') || Date.now()));
            const [decayLevel, setDecayLevel] = useState(0); 
            const [dailyClaim, setDailyClaim] = useState(() => loadState('fw_claims', {}));
            const [tags, setTags] = useState(() => loadState('fw_tags', {
                beauty: ["空腹有氧", "力量训练", "护肤流程", "早睡倒逼早起", "穿搭研究"],
                money: ["ComfyUI炼丹", "IP脚本撰写", "寻找对标账号", "技术复盘", "社群运营"]
            }));

            // --- 休眠舱 (Pods) 数据 ---
            const [fuel, setFuel] = useState(() => parseInt(localStorage.getItem('fw_fuel') || '1000'));
            const [pods, setPods] = useState(() => loadState('fw_pods', [
                {
                    id: 'pod-1',
                    name: '技能核心 (Tech)',
                    skills: [
                        { id: 's1', name: 'React 进阶', cost: 1000, paid: 250 },
                        { id: 's2', name: 'TypeScript', cost: 800, paid: 0 },
                    ]
                }
            ]));

            // --- 碳循环 (Carb Cycle) 数据 ---
            const [carbPattern, setCarbPattern] = useState(() => loadState('fw_carb_pattern', ['low', 'low', 'low', 'high']));
            const [carbExceptions, setCarbExceptions] = useState(() => loadState('fw_carb_exceptions', {}));
            const [carbAnchorDate, setCarbAnchorDate] = useState(() => localStorage.getItem('fw_carb_anchor') || new Date().toDateString());

            const [selectedPodId, setSelectedPodId] = useState(null);
            const [editingSkillId, setEditingSkillId] = useState(null);
            const [tempEditName, setTempEditName] = useState('');
            const [tempEditCost, setTempEditCost] = useState('');
            const [isAddingFuel, setIsAddingFuel] = useState(false);
            const [fuelInput, setFuelInput] = useState('');

            // --- UI 通用状态 ---
            const [isEditMode, setIsEditMode] = useState(false);
            const [showCalendar, setShowCalendar] = useState(false); 
            const [calendarCursor, setCalendarCursor] = useState(new Date()); 
            const [selectedDateStr, setSelectedDateStr] = useState(new Date().toDateString()); 
            const [newTagInput, setNewTagInput] = useState("");
            const [activeCategoryForAdd, setActiveCategoryForAdd] = useState(null);
            const [showCelebration, setShowCelebration] = useState(false);

            // --- 效果与监听 ---
            
            // 腐烂检测
            useEffect(() => {
                const checkDecay = () => {
                    const savedLast = parseInt(localStorage.getItem('fw_last_active') || Date.now());
                    const hours = (Date.now() - savedLast) / (1000 * 60 * 60);
                    const currentDecay = Math.min(100, Math.floor(hours / 24 * 20));
                    setDecayLevel(currentDecay);
                };
                checkDecay(); 
                const timer = setInterval(checkDecay, 60000); 
                return () => clearInterval(timer);
            }, []);

            // 自动保存
            useEffect(() => {
                localStorage.setItem('fw_xp', xp.toString());
                localStorage.setItem('fw_fuel', fuel.toString());
                localStorage.setItem('fw_pods', JSON.stringify(pods));
                localStorage.setItem('fw_carb_pattern', JSON.stringify(carbPattern));
                localStorage.setItem('fw_carb_exceptions', JSON.stringify(carbExceptions));
                localStorage.setItem('fw_carb_anchor', carbAnchorDate);
            }, [xp, fuel, pods, carbPattern, carbExceptions, carbAnchorDate]);

            // --- 核心动作 ---
            const toggleAction = (category, tagName) => {
                const todayStr = new Date().toDateString();
                if (selectedDateStr !== todayStr) {
                    alert("只能操作今天的任务，过去的日子已成定局。");
                    return;
                }
                const existingLog = logs.find(l => l.dateStr === todayStr && l.content === tagName);
                let newLogs;
                if (existingLog) {
                    newLogs = logs.filter(l => l.id !== existingLog.id);
                } else {
                    const newLog = {
                        id: Date.now(),
                        dateStr: todayStr,
                        time: new Date().toLocaleTimeString('zh-CN', { hour: '2-digit', minute:'2-digit' }),
                        category,
                        content: tagName
                    };
                    newLogs = [newLog, ...logs];
                }
                setLogs(newLogs);
                localStorage.setItem('fw_logs', JSON.stringify(newLogs));
            };

            const claimPoints = (category) => {
                const todayStr = new Date().toDateString();
                if (selectedDateStr !== todayStr) return;
                if (dailyClaim[todayStr]?.[category]) return;

                const newXp = xp + 0.5;
                setXp(newXp);
                localStorage.setItem('fw_xp', newXp.toString());
                const newClaim = { ...dailyClaim, [todayStr]: { ...(dailyClaim[todayStr] || {}), [category]: true } };
                setDailyClaim(newClaim);
                localStorage.setItem('fw_claims', JSON.stringify(newClaim));
                const isMoneySettled = category === 'money' || newClaim[todayStr]?.['money'];
                if (isMoneySettled) {
                    const now = Date.now();
                    setLastActive(now);
                    localStorage.setItem('fw_last_active', now.toString());
                    setDecayLevel(0); 
                }
                if (Math.floor(newXp) > Math.floor(xp) && Math.floor(newXp) % 20 === 0 && newXp > 0) setShowCelebration(true);
            };

            // --- 辅助动作 ---
            const deleteLog = (logId) => {
                const newLogs = logs.filter(l => l.id !== logId);
                setLogs(newLogs);
                localStorage.setItem('fw_logs', JSON.stringify(newLogs));
            };
            const deleteTag = (category, tag) => {
                const newTags = { ...tags, [category]: tags[category].filter(t => t !== tag) };
                setTags(newTags);
                localStorage.setItem('fw_tags', JSON.stringify(newTags));
            };
            const addTag = () => {
                if (!newTagInput.trim() || !activeCategoryForAdd) return;
                const newTags = { ...tags, [activeCategoryForAdd]: [...tags[activeCategoryForAdd], newTagInput.trim()] };
                setTags(newTags);
                localStorage.setItem('fw_tags', JSON.stringify(newTags));
                setNewTagInput("");
                setActiveCategoryForAdd(null);
            };
            
            // --- 碳循环逻辑 ---
            const getCarbStatusForDate = (targetDateStr) => {
                if (!carbPattern || carbPattern.length === 0) return 'unknown';
                if (carbExceptions[targetDateStr]) return carbExceptions[targetDateStr]; 

                const anchor = new Date(carbAnchorDate);
                const target = new Date(targetDateStr);
                if (target < anchor) return 'unknown'; 

                let currentIndex = 0;
                let curr = new Date(anchor);
                let safeGuard = 0;
                
                while (curr < target && safeGuard < 1000) {
                    const dStr = curr.toDateString();
                    if (carbExceptions[dStr] === 'rest') {
                        currentIndex = 0; 
                    } else {
                        currentIndex = (currentIndex + 1) % carbPattern.length;
                    }
                    curr.setDate(curr.getDate() + 1);
                    safeGuard++;
                }
                
                return carbPattern[currentIndex] || 'unknown';
            };

            const toggleCarbRest = (dateStr) => {
                if (!carbPattern || carbPattern.length === 0) return;
                const newExceptions = { ...carbExceptions };
                if (newExceptions[dateStr] === 'rest') delete newExceptions[dateStr];
                else newExceptions[dateStr] = 'rest';
                setCarbExceptions(newExceptions);
            };

            const updateCarbPattern = (type) => {
                if (type === 'clear') setCarbPattern([]);
                else setCarbPattern([...carbPattern, type]);
            };

            // --- Pods 逻辑 ---
            const handleInject = (skillId, amount) => {
                if (fuel < amount) return;
                setFuel(prev => prev - amount);
                setPods(prev => prev.map(p => {
                    if (p.id !== selectedPodId) return p;
                    return { ...p, skills: p.skills.map(s => s.id === skillId ? { ...s, paid: Math.min(s.cost, s.paid + amount) } : s) };
                }));
            };
            const handleAddFuel = () => {
                const amount = parseInt(fuelInput);
                if (!isNaN(amount) && amount > 0) {
                    setFuel(prev => prev + amount);
                    setFuelInput('');
                    setIsAddingFuel(false);
                }
            };
            const addNewPod = () => {
                const newId = `pod-${Date.now()}`;
                setPods([...pods, { id: newId, name: '新休眠舱', skills: [] }]);
                setSelectedPodId(newId);
            };
            const deletePod = (id) => {
                if (confirm('拆除此舱体？')) {
                    setPods(pods.filter(p => p.id !== id));
                    if (selectedPodId === id) setSelectedPodId(null);
                }
            };
            const saveSkillEdit = () => {
                setPods(pods.map(p => p.id === selectedPodId ? {
                    ...p, skills: p.skills.map(s => s.id === editingSkillId ? { ...s, name: tempEditName, cost: parseInt(tempEditCost)||0 } : s)
                } : p));
                setEditingSkillId(null);
            };

            // --- 全局滑动处理 ---
            const onTouchStart = (e) => {
                setTouchEnd(null);
                setTouchStart(e.targetTouches[0].clientX);
            };
            const onTouchMove = (e) => setTouchEnd(e.targetTouches[0].clientX);
            const onTouchEnd = () => {
                if (!touchStart || !touchEnd) return;
                const distance = touchStart - touchEnd;
                const swipeThreshold = 60;
                if (distance > swipeThreshold) {
                    if (currentView === 'carb') setCurrentView('dashboard');
                    else if (currentView === 'dashboard') setCurrentView('pods');
                }
                if (distance < -swipeThreshold) {
                    if (currentView === 'pods') setCurrentView('dashboard');
                    else if (currentView === 'dashboard') setCurrentView('carb');
                }
            };

            const getAvatarStyle = () => ({
                filter: `saturate(${Math.max(0, 110 - decayLevel * 1.1)}%) brightness(${Math.max(40, 110 - decayLevel * 0.7)}%) blur(${Math.min(4, decayLevel * 0.04)}px) contrast(${100 + decayLevel * 0.5}%)`,
                transition: 'all 1.5s ease',
                transform: decayLevel === 0 ? 'scale(1.05)' : 'scale(1)',
            });

            const isTodayView = selectedDateStr === new Date().toDateString();
            const activePod = pods.find(p => p.id === selectedPodId);
            
            let translateVal = '-33.33%'; 
            if (currentView === 'carb') translateVal = '0%'; 
            if (currentView === 'pods') translateVal = '-66.66%'; 

            const renderCommonCalendar = (isCarbMode = false) => {
                const year = calendarCursor.getFullYear();
                const month = calendarCursor.getMonth();
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const firstDayOfWeek = new Date(year, month, 1).getDay(); 
                
                const days = [];
                for (let i = 0; i < firstDayOfWeek; i++) days.push(<div key={`empty-${i}`} className="h-10"></div>);
                for (let d = 1; d <= daysInMonth; d++) {
                    const dateObj = new Date(year, month, d);
                    const dateStr = dateObj.toDateString();
                    const isSelected = selectedDateStr === dateStr;
                    const isToday = dateStr === new Date().toDateString();

                    const hasBeauty = logs.some(l => l.dateStr === dateStr && l.category === 'beauty');
                    const hasMoney = logs.some(l => l.dateStr === dateStr && l.category === 'money');
                    const isFullyClaimed = dailyClaim[dateStr]?.beauty && dailyClaim[dateStr]?.money;

                    const carbStatus = getCarbStatusForDate(dateStr);
                    const carbType = CARB_TYPES[carbStatus] || CARB_TYPES['unknown'];
                    const carbColor = carbType.dot;
                    const isRest = carbStatus === 'rest';

                    days.push(
                        <button 
                            key={d} 
                            onClick={() => { 
                                if (isCarbMode) toggleCarbRest(dateStr); 
                                else { setSelectedDateStr(dateStr); setShowCalendar(false); }
                            }}
                            className={`h-10 w-full rounded-sm flex flex-col items-center justify-center relative transition-all border
                                ${isSelected && !isCarbMode ? 'bg-zinc-800 border-zinc-500' : 'border-transparent hover:bg-zinc-900'}
                                ${isToday ? 'text-white font-bold' : 'text-zinc-300'} 
                                ${isFullyClaimed && !isCarbMode ? 'bg-zinc-900/80 shadow-[inset_0_0_10px_rgba(255,255,255,0.05)]' : ''}
                                ${isCarbMode && isRest ? 'bg-zinc-800/50 opacity-50' : ''}
                            `}
                        >
                            <span className="text-xs z-10">{d}</span>
                            {!isCarbMode && (
                                <div className="flex gap-0.5 mt-1">
                                    {hasBeauty && <div className="w-1 h-1 rounded-full bg-green-500"></div>}
                                    {hasMoney && <div className="w-1 h-1 rounded-full bg-blue-500"></div>}
                                </div>
                            )}
                            {isCarbMode && (
                                <div className={`absolute inset-1 rounded-sm opacity-20 ${carbColor}`}></div>
                            )}
                            {isCarbMode && isRest && <div className="absolute inset-0 flex items-center justify-center"><X size={20} className="text-zinc-600"/></div>}
                        </button>
                    );
                }
                return days;
            };

            const getLogCount = (dateStr, cat) => logs.filter(l => l.dateStr === dateStr && l.category === cat).length;
            const isClaimed = (dateStr, cat) => !!dailyClaim[dateStr]?.[cat];
            const isTaskDone = (dateStr, tag) => logs.some(l => l.dateStr === dateStr && l.content === tag);

            return (
                <div 
                    className="min-h-screen bg-black text-gray-300 font-mono flex flex-col items-center overflow-hidden relative"
                    onTouchStart={onTouchStart} onTouchMove={onTouchMove} onTouchEnd={onTouchEnd}
                >
                    {showCelebration && (
                        <div className="fixed inset-0 z-[100] bg-black/95 flex flex-col items-center justify-center p-8 text-center animate-in zoom-in duration-500">
                            <h1 className="text-6xl font-bold text-green-500 mb-4 animate-bounce">20 PTS</h1>
                            <button onClick={() => setShowCelebration(false)} className="px-8 py-3 bg-green-600 text-black font-bold rounded">继续</button>
                        </div>
                    )}

                    <div className="w-full max-w-md flex-1 relative">
                        <div 
                            className="w-[300%] h-full flex transition-transform duration-300 ease-out"
                            style={{ transform: `translateX(${translateVal})` }}
                        >
                            
                            {/* ============ 页面 0: 碳循环 (Carb Cycle) ============ */}
                            <div className="w-1/3 p-4 flex flex-col items-center h-full overflow-y-auto bg-black relative">
                                <div className="w-full flex justify-between items-center mb-6 pt-4">
                                    <div className="flex items-center gap-2">
                                        <Flame size={18} className="text-orange-500 fill-orange-500 animate-pulse" />
                                        <span className="font-bold text-white tracking-widest text-lg">CARB PROTOCOL</span>
                                    </div>
                                    <button onClick={() => setIsEditMode(!isEditMode)} className={`p-2 rounded ${isEditMode ? 'bg-zinc-800 text-white' : 'text-zinc-600'}`}>
                                        <Settings size={20} />
                                    </button>
                                </div>

                                {isEditMode && (
                                    <div className="w-full bg-zinc-900 border border-zinc-800 rounded-lg p-4 mb-6 animate-in slide-in-from-top-4">
                                        <div className="text-xs text-zinc-500 mb-2 font-bold uppercase">设计你的循环 (点击添加)</div>
                                        <div className="flex gap-2 mb-4">
                                            <button onClick={() => updateCarbPattern('low')} className="flex-1 py-2 bg-blue-900/30 text-blue-400 border border-blue-900 rounded text-xs font-bold hover:bg-blue-900/50">低碳</button>
                                            <button onClick={() => updateCarbPattern('med')} className="flex-1 py-2 bg-yellow-900/30 text-yellow-400 border border-yellow-900 rounded text-xs font-bold hover:bg-yellow-900/50">中碳</button>
                                            <button onClick={() => updateCarbPattern('high')} className="flex-1 py-2 bg-red-900/30 text-red-400 border border-red-900 rounded text-xs font-bold hover:bg-red-900/50">高碳</button>
                                        </div>
                                        <div className="flex flex-wrap gap-2 mb-4 min-h-[40px] p-2 bg-black rounded border border-zinc-800">
                                            {carbPattern.map((p, idx) => (
                                                <div key={idx} className={`w-3 h-3 rounded-full ${CARB_TYPES[p].dot}`}></div>
                                            ))}
                                            {carbPattern.length === 0 && <span className="text-xs text-zinc-600">空循环...</span>}
                                        </div>
                                        <button onClick={() => updateCarbPattern('clear')} className="w-full py-2 bg-zinc-800 text-zinc-400 rounded text-xs hover:bg-zinc-700 flex items-center justify-center gap-2">
                                            <RotateCcw size={12}/> 重置 / 清空
                                        </button>
                                    </div>
                                )}

                                <div className="w-full mb-8">
                                    <div className="text-center mb-2 text-zinc-500 text-xs uppercase tracking-widest">今日计划</div>
                                    {(() => {
                                        const status = getCarbStatusForDate(new Date().toDateString());
                                        const type = CARB_TYPES[status] || CARB_TYPES['unknown'];
                                        return (
                                            <div className={`w-full p-6 rounded-xl border-2 flex flex-col items-center justify-center gap-2 ${type.color} transition-all duration-500`}>
                                                <Utensils size={32} />
                                                <div className="text-4xl font-black italic">{type.label}</div>
                                                {status === 'rest' && <div className="text-xs">休息日：循环暂停</div>}
                                                {status === 'unknown' && <div className="text-xs">请点击设置配置循环</div>}
                                                {status !== 'rest' && status !== 'unknown' && <div className="text-xs opacity-70">按计划执行</div>}
                                            </div>
                                        )
                                    })()}
                                </div>

                                <div className="w-full bg-zinc-950 border border-zinc-800 rounded-lg p-4 mb-4">
                                    <div className="flex justify-between items-center mb-4">
                                        <button onClick={() => {const d=new Date(calendarCursor);d.setMonth(d.getMonth()-1);setCalendarCursor(d)}} className="p-1 text-zinc-500"><ChevronLeft size={16}/></button>
                                        <span className="font-bold text-zinc-300">{calendarCursor.toLocaleDateString('zh-CN', { month: 'short', year: 'numeric' })}</span>
                                        <button onClick={() => {const d=new Date(calendarCursor);d.setMonth(d.getMonth()+1);setCalendarCursor(d)}} className="p-1 text-zinc-500"><ChevronRight size={16}/></button>
                                    </div>
                                    <div className="grid grid-cols-7 gap-1">
                                        {['日','一','二','三','四','五','六'].map(d => <div key={d} className="text-center text-[10px] text-zinc-500 font-bold">{d}</div>)}
                                        {renderCommonCalendar(true)}
                                    </div>
                                    <div className="mt-4 text-[10px] text-zinc-500 flex justify-center gap-4">
                                        <div className="flex items-center gap-1"><div className="w-2 h-2 rounded-full bg-blue-500"></div>低碳</div>
                                        <div className="flex items-center gap-1"><div className="w-2 h-2 rounded-full bg-yellow-500"></div>中碳</div>
                                        <div className="flex items-center gap-1"><div className="w-2 h-2 rounded-full bg-red-500"></div>高碳</div>
                                        <div className="flex items-center gap-1"><X size={10}/>休息(点击)</div>
                                    </div>
                                </div>

                                <div className="mt-auto pb-8 text-zinc-600 text-xs flex items-center gap-2 animate-pulse">
                                    <span>Swipe Left to Dashboard</span> <ChevronRight size={14}/>
                                </div>
                            </div>

                            {/* ============ 页面 1: Flywheel Dashboard (中间) ============ */}
                            <div className="w-1/3 p-4 flex flex-col items-center overflow-y-auto pb-20">
                                <div className="w-full flex justify-between items-center mb-8 pt-4">
                                    <div className="flex items-center gap-2">
                                        <Zap size={18} className={decayLevel === 0 ? "text-green-500 fill-green-500" : "text-zinc-600"} />
                                        <span className="font-bold text-white tracking-widest text-lg">FLYWHEEL</span>
                                    </div>
                                    <div className="flex gap-2">
                                        <button onClick={() => setShowCalendar(!showCalendar)} className={`p-2 rounded ${showCalendar ? 'bg-zinc-800 text-white' : 'text-zinc-600'}`}>
                                            <CalendarIcon size={20} />
                                        </button>
                                        <button onClick={() => setIsEditMode(!isEditMode)} className={`p-2 rounded ${isEditMode ? 'bg-zinc-800 text-white' : 'text-zinc-600'}`}>
                                            <Settings size={20} />
                                        </button>
                                    </div>
                                </div>

                                {showCalendar && (
                                    <div className="w-full bg-zinc-950 border border-zinc-800 rounded-lg p-4 mb-6 animate-in slide-in-from-top-4">
                                        <div className="flex justify-between items-center mb-4">
                                            <button onClick={() => {const d=new Date(calendarCursor);d.setMonth(d.getMonth()-1);setCalendarCursor(d)}} className="p-1 text-zinc-500"><ChevronLeft size={16}/></button>
                                            <span className="font-bold text-zinc-300">{calendarCursor.toLocaleDateString('zh-CN', { month: 'short', year: 'numeric' })}</span>
                                            <button onClick={() => {const d=new Date(calendarCursor);d.setMonth(d.getMonth()+1);setCalendarCursor(d)}} className="p-1 text-zinc-500"><ChevronRight size={16}/></button>
                                        </div>
                                        <div className="grid grid-cols-7 gap-1">
                                            {['日','一','二','三','四','五','六'].map(d => <div key={d} className="text-center text-[10px] text-zinc-500 font-bold">{d}</div>)}
                                            {renderCommonCalendar(false)}
                                        </div>
                                    </div>
                                )}

                                <div className="w-full flex items-center gap-6 mb-10">
                                    <div className="relative">
                                        <div className="w-24 h-24 rounded-full bg-zinc-900 border-2 border-zinc-800 overflow-hidden">
                                            <img src="pic1.png" className="w-full h-full object-cover" style={getAvatarStyle()} onError={(e)=>{e.target.src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix"}} alt=""/>
                                        </div>
                                        <div className={`absolute -top-1 -right-1 w-4 h-4 rounded-full border-2 border-black z-20 ${decayLevel===0?'bg-green-500 shadow-[0_0_10px_#22c55e]':'bg-red-900'}`}></div>
                                    </div>
                                    <div className="flex-1">
                                        <div className="flex justify-between text-xs text-zinc-500 mb-2 font-bold uppercase">
                                            <span>XP Progress</span><span className={decayLevel===0?"text-green-500":"text-zinc-500"}>{xp} / 20</span>
                                        </div>
                                        <div className="h-4 w-full bg-zinc-900 rounded overflow-hidden relative border border-zinc-800">
                                            <div className={`h-full transition-all duration-700 ${decayLevel===0?'bg-green-600':'bg-zinc-700'}`} style={{width:`${(xp%20)/20*100}%`}}></div>
                                        </div>
                                        <div className="mt-2 text-xs text-zinc-600">{decayLevel===0 ? "Status: PEAK" : `Decay: ${decayLevel}%`}</div>
                                    </div>
                                </div>

                                {!isTodayView && (
                                    <div className="w-full bg-zinc-900/50 border border-zinc-800 p-2 mb-4 text-center text-xs text-zinc-400 rounded flex justify-between px-4">
                                        <span>历史记录: {selectedDateStr}</span>
                                        <button onClick={() => setSelectedDateStr(new Date().toDateString())} className="text-white bg-zinc-800 px-2 py-1 rounded">返回今日</button>
                                    </div>
                                )}

                                <div className={`w-full grid grid-cols-2 gap-4 mb-6 ${!isTodayView && 'opacity-70 pointer-events-none grayscale'}`}>
                                    <div className="flex flex-col gap-2">
                                        <div className="flex justify-between items-center mb-2 px-1 text-green-500 font-bold text-sm"><span className="flex items-center gap-2"><Activity size={14}/> 变帅</span></div>
                                        {tags.beauty.map((t,i)=>(
                                            <div key={i} className="relative group">
                                                <button disabled={!isTodayView||isEditMode} onClick={()=>toggleAction('beauty',t)} className={`w-full text-left p-3 rounded text-sm border transition-all ${isTaskDone(selectedDateStr,t)?'bg-green-900/30 border-green-600 text-green-400':'bg-zinc-900/40 border-zinc-800 text-zinc-400'}`}>{t}</button>
                                                {isEditMode&&<button onClick={()=>deleteTag('beauty',t)} className="absolute right-2 top-2 text-red-500"><X size={14}/></button>}
                                            </div>
                                        ))}
                                        {isEditMode && <button onClick={()=>setActiveCategoryForAdd('beauty')} className="border border-dashed border-zinc-800 p-2 text-zinc-600 rounded flex justify-center"><Plus size={14}/></button>}
                                    </div>
                                    <div className="flex flex-col gap-2">
                                        <div className="flex justify-between items-center mb-2 px-1 text-blue-500 font-bold text-sm"><span className="flex items-center gap-2"><Terminal size={14}/> 搞钱</span></div>
                                        {tags.money.map((t,i)=>(
                                            <div key={i} className="relative group">
                                                <button disabled={!isTodayView||isEditMode} onClick={()=>toggleAction('money',t)} className={`w-full text-left p-3 rounded text-sm border transition-all ${isTaskDone(selectedDateStr,t)?'bg-blue-900/30 border-blue-600 text-blue-400':'bg-zinc-900/40 border-zinc-800 text-zinc-400'}`}>{t}</button>
                                                {isEditMode&&<button onClick={()=>deleteTag('money',t)} className="absolute right-2 top-2 text-red-500"><X size={14}/></button>}
                                            </div>
                                        ))}
                                        {isEditMode && <button onClick={()=>setActiveCategoryForAdd('money')} className="border border-dashed border-zinc-800 p-2 text-zinc-600 rounded flex justify-center"><Plus size={14}/></button>}
                                    </div>
                                </div>

                                {isTodayView && (
                                    <div className="w-full grid grid-cols-2 gap-4 mb-8">
                                        <button onClick={()=>claimPoints('beauty')} disabled={isClaimed(selectedDateStr,'beauty')||getLogCount(selectedDateStr,'beauty')===0} className={`py-3 rounded font-bold text-sm ${isClaimed(selectedDateStr,'beauty')?'bg-zinc-900/50 text-zinc-600 border border-zinc-800':getLogCount(selectedDateStr,'beauty')===0?'bg-zinc-900 text-zinc-700':'bg-green-800 text-white'}`}>
                                            {isClaimed(selectedDateStr,'beauty')?'已锁定':'确认结算'}
                                        </button>
                                        <button onClick={()=>claimPoints('money')} disabled={isClaimed(selectedDateStr,'money')||getLogCount(selectedDateStr,'money')===0} className={`py-3 rounded font-bold text-sm ${isClaimed(selectedDateStr,'money')?'bg-zinc-900/50 text-zinc-600 border border-zinc-800':getLogCount(selectedDateStr,'money')===0?'bg-zinc-900 text-zinc-700':'bg-blue-800 text-white'}`}>
                                            {isClaimed(selectedDateStr,'money')?'已锁定':'确认结算'}
                                        </button>
                                    </div>
                                )}

                                <div className="w-full border-t border-zinc-900 pt-6">
                                    <div className="flex items-center gap-2 text-zinc-600 text-xs font-bold uppercase mb-4"><History size={14}/><span>Combat Log</span></div>
                                    <div className="space-y-2">
                                        {logs.filter(l => l.dateStr === selectedDateStr).map(log => (
                                            <div key={log.id} className="flex justify-between items-center bg-zinc-900/20 p-2 rounded border border-zinc-900/50 group">
                                                <div className="flex items-center gap-2 text-sm"><span className="text-zinc-600 text-xs">{log.time}</span> <span className={log.category==='beauty'?'text-green-500':'text-blue-500'}>{log.content}</span></div>
                                                {isTodayView && <button onClick={()=>deleteLog(log.id)} className="text-zinc-700 hover:text-red-500 opacity-0 group-hover:opacity-100"><Trash2 size={12}/></button>}
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {activeCategoryForAdd && (
                                    <div className="fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4">
                                        <div className="bg-zinc-900 p-6 rounded w-full max-w-xs border border-zinc-800">
                                            <input autoFocus value={newTagInput} onChange={e=>setNewTagInput(e.target.value)} onKeyDown={e=>e.key==='Enter'&&addTag()} placeholder="New Task..." className="w-full bg-black border border-zinc-700 p-2 rounded mb-4 text-white"/>
                                            <button onClick={addTag} className="w-full bg-white text-black py-2 rounded font-bold">Add</button>
                                        </div>
                                    </div>
                                )}
                                
                                <div className="w-full flex justify-between text-zinc-600 text-xs mt-8 px-4 animate-pulse">
                                    <div className="flex items-center gap-1"><ChevronLeft size={14}/> Carb Cycle</div>
                                    <div className="flex items-center gap-1">Pods <ChevronRight size={14}/></div>
                                </div>
                            </div>

                            {/* ============ 页面 2: Hibernation Pods (右侧) ============ */}
                            <div className="w-1/3 p-4 flex flex-col h-full bg-zinc-950 relative overflow-y-auto">
                                <div className="flex items-center justify-between mb-8 pt-4">
                                    <div className="flex items-center gap-3">
                                        <div className="p-2 bg-cyan-900/20 rounded border border-cyan-900/50">
                                            <Battery className="text-cyan-500" size={18} />
                                        </div>
                                        <div>
                                            <div className="text-[10px] text-zinc-500 font-bold uppercase tracking-widest">Fuel Reserve</div>
                                            <div className="text-xl font-black font-mono text-cyan-50">
                                                {fuel.toLocaleString()} <span className="text-xs text-cyan-600">UNITS</span>
                                            </div>
                                        </div>
                                    </div>
                                    <button onClick={() => setIsAddingFuel(true)} className="p-2 bg-zinc-900 hover:bg-cyan-900/30 text-cyan-500 rounded border border-zinc-800">
                                        <Plus size={20} />
                                    </button>
                                </div>

                                {isAddingFuel && (
                                    <div className="mb-6 p-4 bg-zinc-900/80 border border-cyan-900/30 rounded-lg">
                                        <div className="flex gap-2">
                                            <input autoFocus type="number" placeholder="Add Fuel..." className="flex-1 bg-black border border-zinc-700 rounded px-3 py-2 text-white font-mono" value={fuelInput} onChange={(e) => setFuelInput(e.target.value)} />
                                            <button onClick={handleAddFuel} className="bg-cyan-700 text-white px-3 py-2 rounded font-bold text-sm">OK</button>
                                            <button onClick={() => setIsAddingFuel(false)} className="text-zinc-500 px-2"><X size={18}/></button>
                                        </div>
                                    </div>
                                )}

                                <div className="flex-1">
                                    {!selectedPodId ? (
                                        <div className="space-y-4">
                                            <div className="flex justify-between items-center text-zinc-500 text-xs font-bold uppercase mb-2">
                                                <span>Active Pods</span>
                                                <button onClick={addNewPod} className="hover:text-cyan-400 flex items-center gap-1"><Plus size={12}/> New</button>
                                            </div>
                                            {pods.map(pod => {
                                                const total = pod.skills.reduce((a, b) => a + b.cost, 0);
                                                const paid = pod.skills.reduce((a, b) => a + b.paid, 0);
                                                const progress = total > 0 ? (paid / total) * 100 : 0;
                                                return (
                                                    <div key={pod.id} onClick={() => setSelectedPodId(pod.id)} className="bg-zinc-900 border border-zinc-800 p-4 rounded-lg active:scale-95 transition-all cursor-pointer hover:border-cyan-900/50 group">
                                                        <div className="flex justify-between items-start mb-3">
                                                            <div className="flex items-center gap-3">
                                                                <User className="text-zinc-600 group-hover:text-cyan-500" size={20}/>
                                                                <div>
                                                                    <div className="font-bold text-zinc-200">{pod.name}</div>
                                                                    <div className="text-xs text-zinc-600 font-mono">{pod.skills.length} modules</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div className="h-1.5 w-full bg-black rounded-full overflow-hidden">
                                                            <div className="h-full bg-cyan-700 transition-all" style={{width: `${progress}%`}}></div>
                                                        </div>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    ) : (
                                        <div className="animate-in slide-in-from-right-4">
                                            <div className="flex items-center gap-2 mb-6">
                                                <button onClick={() => setSelectedPodId(null)} className="p-1 hover:bg-zinc-900 rounded text-zinc-500"><ChevronLeft size={20}/></button>
                                                <input className="bg-transparent text-lg font-bold text-white outline-none w-full placeholder-zinc-700" value={activePod.name} onChange={(e) => setPods(pods.map(p => p.id === activePod.id ? {...p, name: e.target.value} : p))}/>
                                                <button onClick={() => deletePod(activePod.id)} className="text-zinc-700 hover:text-red-500"><Trash2 size={16}/></button>
                                            </div>
                                            <div className="space-y-4">
                                                {activePod.skills.map(skill => (
                                                    <div key={skill.id}>
                                                        {editingSkillId === skill.id ? (
                                                            <div className="bg-zinc-900 p-3 rounded border border-zinc-700 space-y-2">
                                                                <input className="w-full bg-black border border-zinc-700 rounded p-2 text-sm text-white" value={tempEditName} onChange={e=>setTempEditName(e.target.value)} />
                                                                <div className="flex gap-2">
                                                                    <input className="w-24 bg-black border border-zinc-700 rounded p-2 text-sm text-white font-mono" type="number" value={tempEditCost} onChange={e=>setTempEditCost(e.target.value)} />
                                                                    <button onClick={saveSkillEdit} className="flex-1 bg-cyan-700 text-white rounded text-xs font-bold">SAVE</button>
                                                                    <button onClick={()=>setEditingSkillId(null)} className="px-3 bg-zinc-800 text-zinc-400 rounded text-xs">CANCEL</button>
                                                                </div>
                                                            </div>
                                                        ) : (
                                                            <div className="relative group">
                                                                <FuelInjector skill={skill} globalFuel={fuel} onInject={handleInject} />
                                                                <button onClick={() => {setEditingSkillId(skill.id);setTempEditName(skill.name);setTempEditCost(skill.cost)}} className="absolute top-1 right-1 p-1 text-zinc-600 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity"><Edit2 size={12}/></button>
                                                            </div>
                                                        )}
                                                    </div>
                                                ))}
                                                <button onClick={() => setPods(pods.map(p => p.id===selectedPodId ? {...p, skills:[...p.skills, {id:`s-${Date.now()}`, name:'新技能', cost:1000, paid:0}]} : p))} className="w-full py-3 border border-dashed border-zinc-800 text-zinc-600 hover:text-cyan-500 hover:border-cyan-900/50 rounded flex justify-center items-center gap-2 text-sm transition-colors">
                                                    <Plus size={16}/> Add Module
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                </div>
                                
                                <div className="mt-8 text-center text-zinc-600 text-xs flex justify-center items-center gap-2 animate-pulse">
                                    <ChevronLeft size={14}/> <span>Swipe Right to Return</span>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div className="fixed bottom-6 flex gap-2 z-50">
                        <button onClick={() => setCurrentView('carb')} className={`w-2 h-2 rounded-full transition-all duration-300 ${currentView === 'carb' ? 'bg-orange-500 w-4' : 'bg-zinc-700'}`}/>
                        <button onClick={() => setCurrentView('dashboard')} className={`w-2 h-2 rounded-full transition-all duration-300 ${currentView === 'dashboard' ? 'bg-white w-4' : 'bg-zinc-700'}`}/>
                        <button onClick={() => setCurrentView('pods')} className={`w-2 h-2 rounded-full transition-all duration-300 ${currentView === 'pods' ? 'bg-cyan-500 w-4' : 'bg-zinc-700'}`}/>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<FlywheelUltimate />);
    </script>
</body>

</html>
